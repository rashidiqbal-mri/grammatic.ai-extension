{"version":3,"file":"background.js","mappings":";;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sources":["webpack://react-js-chrome-extension/./src/background/background.ts"],"sourcesContent":["let selectedText = '';\nlet textboxText = '';\nchrome.runtime.onMessage.addListener((message, sender, sendResponse) => {\n    if (message.type === 'selectedText') {\n        selectedText = message.text;\n    }\n});\nchrome.runtime.onMessage.addListener((message, sender, sendResponse) => {\n    if (message.type === 'getSelectedText') {\n        sendResponse({ selectedText: selectedText });\n    }\n});\nchrome.runtime.onMessage.addListener((message, sender, sendResponse) => {\n    if (message.type === 'textboxText') {\n        textboxText = message.text;\n    }\n    else if (message.type === 'getTextboxText') {\n        sendResponse({ textboxText: textboxText });\n    }\n});\n// background.ts\n// background.js\n// Listen for message from content script to open menu\nlet popupWindowId = null;\nchrome.runtime.onMessage.addListener((message, sender, sendResponse) => {\n    if (message.type === \"toggle_menu\") {\n        const { x, y } = message.coordinates;\n        if (popupWindowId === null) {\n            // If the popup is not open, create the window\n            chrome.windows.create({\n                url: chrome.runtime.getURL(\"menu.html\"),\n                type: \"popup\",\n                width: 400,\n                height: 300,\n                left: Math.round(x),\n                top: Math.round(y) + 170,\n            }, (window) => {\n                popupWindowId = window.id;\n            });\n        }\n        else {\n            // If the popup is already open, close the window and reset the popupWindowId\n            chrome.windows.remove(popupWindowId, () => {\n                popupWindowId = null;\n            });\n        }\n    }\n    return true;\n});\n"],"names":[],"sourceRoot":""}